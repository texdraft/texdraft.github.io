<!DOCTYPE html>
<html>
<head>
<title>Symbolic Assembly Program (SAP)</title><link rel="stylesheet" type="text/css" href="style.css"><script src="code.js" defer></script>
                    </head>
<body class="landing-page"><h1>Symbolic Assembly Program (SAP)</h1><div class="attribution">  <b>Programmed by</b>: John W.&nbsp;Backus, Robert J.&nbsp;Beeber, Sheldon Best, Richard Goldberg, Lois M.&nbsp;Haibt, Harlan L.&nbsp; Herrick, Robert A.&nbsp;Hughes, Richard A.&nbsp;Nelson, Roy Nutt, David Sayre, Peter B.&nbsp;Sheridan, Harold Stern, <a href="fortran-25.html">David Sternlight</a>, Irving Ziller.</div><div class="attribution">  <b>Reconstructed by</b>: Bob Abeles, Robert Cicconetti, Rich Cornwell, James Markevitch, Fausto Saporito.</div><section class=introduction>  <p>    This is a hypertext rendition of the source code of IBM's FORTRAN II compiler for the IBM 704/709/7090/7094. (See also <a href="../lisp-1.5/listing.html">LISP 1.5</a>.)  </p>  <p>    The code was originally preserved in a printed listing (see <a href="https://www.softwarepreservation.org/projects/FORTRAN/index.html#Source_code">Paul McJones's FORTRAN history page</a>), from which an assembleable text was reconstructed. I wrote a small program to generate HTML from the code.  </p>    Unlike LISP 1.5, FORTRAN II is made up of many separate assemblies (over 200). Hence they are on separate pages, tabulated below. In addition to a listing, for each assembly cross-reference information for all symbols is available in the form of index pages. These list every symbol in alphabetical order. Click on a symbol's entry to reveal its definition and uses across the code. (In many cases, a symbol is documented by remarks given on the line defining it. But sometimes, especially for subroutines, there may be pertinent remarks-only lines preceding the point of definition. Thus any such remarks are included on the index pages. The lack of structure in comments means that it is difficult to tell where the relevant comments <em>stop</em>, so often spurious remarks are included.)  </p>  <p>    There are two kinds of line in the listings: comment lines (“remarks”) and code lines. Every line is numbered, and you can use that number to link to a particular line. (This is a deviation from the printed listing, which did not provide line numbers for assembler-generated lines, in order to make it easy to identify lines uniquely.) Code lines have several fields, many of which may be blank:  </p>  <details name=fields>    <summary>      <b>Flags</b>, containing single-character markers that indicate problems with the line.    </summary>    <p>You can hover over the flags to see what they signify. In this listing they are mainly for absent fields in instructions. </p>  </details>  <details name=fields>    <summary>      <b>Address</b>, the location in memory.    </summary>    <p>Five octal digits, absent for pseudo-operations that did not result in any assembly. </p>  </details>  <details name=fields>    <summary>      <b>Assembly</b>, a representation of the machine word produced by the assembler.    </summary>    <p>One or more fields in several formats, related to <a href="https://web.archive.org/web/20210424122744/http://www.frobenius.com/instruction-formats.htm">the encoding of the instruction</a>, absent for some pseudo-operations. The vast majority of instruction have a five-digit (octal) address part that you can look at to see the value of the expression in that field. </p>  </details>  <details name=fields>    <summary>      <b>Line number</b>, as explained <a href="#line-numbers">above</a>.    </summary>  </details>  <details name=fields>    <summary>      <b>Location</b>, usually containing a symbol to be defined as the address.    </summary>    <p>      Today we would probably say “label”. The lone exception is with the <span class=operation>HED</span> psuedo-operation, which instead interpreted the first column as a character used to “head” symbols. Heading a symbol meant prefixing it with the head character and spaces to pad it to six characters (leaving it alone if it's already long enough). For example, if the head is “ <code>L</code>”, then <code>LOAD</code> is headed to <code>L␣LOAD</code>, but <code>COMMON</code> is unaffected by a head. Programmers can opt out per symbol by writing <code><i>C</i>$<i>S</i></code>, where <code><i>C</i></code> is the desired head character (or empty to indicate no head) and <code><i>S</i></code> is the name before heading. For example, <code>C$MOV</code> becomes <code>C␣␣MOV</code>, and <code>$CPPI</code> will always be <code>␣␣CPPI</code> no matter what the head is. The point of this feature is to provide rudimentary namespace separation, so that symbols' “scope” could be limited to certain subprograms. Later assemblers supported multiple head simultaneously using the new <span class=operation>HEAD</span> pseudo-operation, which took an arbitrary number of heads in the variable field.    </p>    <p>      FORTRAN II does not use the heading feature very much.    </p>    <p>      When you click on a symbol in the location field, you'll be taken to its entry on the index page, described above.    </p>  </details>  <details name=fields>    <summary>      <b>Operation</b>, containing the mnemonic for the operation.    </summary>    <p>Operations are either machine instructions (such as <span class=operation title="Transfer">TRA</span> or <span class=operation title="Clear and Add">CLA</span> or <span class=operation title="Load Complement of Decrement in Index">LDC</span>, or commands for the assembler (such as <span class=operation title="Block Started by Symbol">BSS</span> or <span class=operation title="Set Title of Listing">TTL</span>). When it's a machine instruction, <span class=operation>*</span> after the mnemonic indicates indirect addressing. </p>  </details>  <details name=fields>    <summary>      <b>Variable field</b>/<b>remarks</b>, containing operands and commentary.    </summary>    <p>This field usually consists of comma-separated expressions (the “variable field”) and then a comment after some whitespace. The variable field can sometimes contain spaces, when the operation is <span class=operation>BCD</span> or <span class=operation>BCI</span> or <span class=operation>VFD</span>. </p>    <p>Click on a symbol in the variable field to be taken to its point of definition. Occasionally a symbol is defined on a different page from the point of reference. If you hover over a symbol, you get a tooltip showing its meaning in octal and decimal (often you can also get this information from the assembled word on the left).</p>  </details>  <p>    Enjoy!  </p></section><table class="assemblies"><tbody><tr><td>Pass 1</td><td><a href="sap-1.html">Assembly</a></td><td><a href="sap-1-symbols.html">Symbols</a></td></tr><tr><td>Pass 2</td><td><a href="sap-2.html">Assembly</a></td><td><a href="sap-2-symbols.html">Symbols</a></td></tr></tbody></table></body></html>